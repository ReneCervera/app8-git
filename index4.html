<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ubicacion en el mapa de google</title>
</head>
<body>
<!--grupo CSS-->
<div id="ubicacion"></div>
<script type="text/javascript">
	if (navigator.geolocation) {
		navigator.geolocation.getCurrentPosition (mostrarUbicacion);
	}else{alert("¡Error!Este navegador no soporta la geolocalización.");}
	function refrescarUbicacion(argument) {
		navigator.geolocation.wathPosition(MostrarUbicacion);}
</script>

<!--Se escribe un mapa con la localizacion anterior-->
<div id="demo"></div>
<div id="mapholder"></div>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDFd0aiE5FttY8XRAFI9ecTSpgo2vP-qMk"></script>

<button onclick="cargarmap()">cargar mapa</button>
<script type="text/javascript">
	var X=document.getElementByid("demo");
	function cargarmap(){
		navigator.geolocation.getCurrentPosition (showPosition,showError);
		function showPosition(position)
		{
			lat=position.coords.latitude;
			lon=position.coords.longitude;
			latlon=new google.maps.LatLng(lat,lon)
			mapholder =document .getElementByid('mapholder')
			mapholder.style.height ='500px';
			mapholder.style.width ='750px';
			var myOptions={
				center:lation,zoom : 15,
				mapTypeld:google.maps.mapTypeld.ROADMAP,
				mapTypeControl : false
				navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
				};
				var map=new google.maps.Map(document.getElementByid("mapholder"),myOptions);
				var markee=new google.maps.Marker({position:lation,map:map,title:"You are here!"})
			}
			function showError(error)
			{
				switch(error.code)
				{
					case error.PERMISSION_DENIED:
					x.innerHTML="denegada la peticion de geolocalización en el navegador"
					break;
					case error.POSITION_UNAVAILABLE:
					x.innerHTML="La informacion de la localizacion no esta disponible"
					break;
					case error.TIMEOUT:
					x.innerHTML="el tiempo a expirado"
					break;
					case error.UNKNOWN_ERROR:
					x.innerHTML="Ha ocurrido un error desconocido."
					break;
				}
			}}
</script>
</body>
</html>

